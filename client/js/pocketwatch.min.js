/*! pocketwatch 2013-11-11 */
!function(a){a.fn.pocketWatch=function(b){function c(a,b){var c,e,f,g,h;for(e=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,c=a;e.test(c);)f=c.match(e)[1],g=null!=(h=d(b,f))?h:"",c=c.replace(e,""+g);return c}function d(a,b){var c,d;for(b=b.replace(/\[(\w+)\]/g,".$1"),d=b.split(".");d.length;){if(c=d.shift(),!(null!=a&&c in a))return null;a=a[c]}return a}$container=a(this);var e=a.extend({},a.fn.pocketWatch.defaults,b);return serialize=function(a){var b=[];for(var c in a)""!=a[c]&&"template"!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},url="http://proxy.pocketwatch.io/?"+serialize(e),a.ajax({type:"GET",url:url,dataType:"jsonp",jsonp:!1,jsonpCallback:"pocketWatch",success:function(b){a.each(b.list,function(a,b){$container.append(c(e.template,b))})}}),this},a.fn.pocketWatch.defaults={count:"5",state:"all",favorite:1,tag:"",contentType:"",sort:"newest",detailType:"simple",template:'<a href="{{resolved_url}}">{{resolved_title}}</a>'}}(jQuery);